{
  "filename": "DevEnv.md",
  "__html": "<p>开发环境搭建</p>\n<h1 id=\"%E4%B8%80%E3%80%81%E8%BD%AF%E4%BB%B6%E5%88%97%E8%A1%A8\">一、软件列表 <a class=\"header-anchor\" href=\"#%E4%B8%80%E3%80%81%E8%BD%AF%E4%BB%B6%E5%88%97%E8%A1%A8\">#</a></h1>\n<ol>\n<li>IDEA             <a href=\"http://zhile.io\">zhile.io</a></li>\n<li>DBeaver</li>\n<li>MobaxTerm</li>\n<li>VS Code</li>\n<li>Maven            <a href=\"http://mvnrepository.com\">mvnrepository.com</a></li>\n<li>JDK</li>\n<li>Git</li>\n<li>U Tools</li>\n<li>Docker</li>\n<li>Chrome</li>\n<li>企业微信\\钉钉</li>\n<li>FoxMail</li>\n</ol>\n<h1 id=\"%E4%BA%8C%E3%80%81%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85\">二、软件安装 <a class=\"header-anchor\" href=\"#%E4%BA%8C%E3%80%81%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85\">#</a></h1>\n<h2 id=\"1.-idea\">1. <a href=\"zhile.io\">IDEA</a> <a class=\"header-anchor\" href=\"#1.-idea\">#</a></h2>\n<ol>\n<li>Jrebel</li>\n</ol>\n<pre><code>GUID生成：https://www.guidgen.com/\n\n激活URL :https://jrebel.qekang.com/GUID\n\n激活成功后设置为离线模式\n</code></pre>\n<ol start=\"2\">\n<li>MyBatisCodeHelper-Pro</li>\n</ol>\n<h2 id=\"2.-git\">2. Git <a class=\"header-anchor\" href=\"#2.-git\">#</a></h2>\n<pre><code class=\"language-shell\">\ngit config --global user.name \"liuhui\"\ngit config --global user.email \"hliu@pisx.com\"\n\nssh-keygen -t rsa -C \"hliu@pisx.com\"\ncat /c/Users/pisx/.ssh/id_rsa.pub\n\ngit init\ngit add .\ngit commit -m \"Init project\"\ngit remote add origin https://gitee.com/lorchr/spring-boot-samples.git\ngit branch --set-upstream-to=origin/master master\ngit push -u origin master\n</code></pre>\n<p>常用操作</p>\n<pre><code class=\"language-shell\">-- 克隆仓库\ngit clone http://github.com/lorchr/spring-cloud-samples.git\n\n-- 查看远程仓库地址\ngit remote -v\n\n-- 移除远程仓库\ngit remote rm origin\n\n-- 添加新的远程仓库地址\ngit remote add           cloud https://gitee.com/lorchr/spring-cloud-samples.git\ngit remote set-url --add origin http://github.com/lorchr/spring-cloud-samples.git\ngit push -u cloud master\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 提交</span>\ngit push 仓库别名 分支 --allow-unrelated-histories\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> 检出</span>\ngit pull 仓库别名 分支 --allow-unrelated-histories\n</code></pre>\n<h2 id=\"3.-docker%E6%9B%B4%E6%8D%A2%E8%BD%AF%E4%BB%B6%E6%BA%90\">3. Docker更换软件源 <a class=\"header-anchor\" href=\"#3.-docker%E6%9B%B4%E6%8D%A2%E8%BD%AF%E4%BB%B6%E6%BA%90\">#</a></h2>\n<p>修改Docker容器内部的软件源地址</p>\n<ol>\n<li>使用sed替换</li>\n</ol>\n<pre><code class=\"language-shell\"><span class=\"hljs-meta\">#</span><span class=\"bash\"> 使用root用户执行命令行操作</span>\ndocker exec -it -u root &lt;container-id(name)&gt; /bin/bash\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 查看软件源</span>\ncat /etc/apt/sources.list\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 替换软件源</span>\nsed -i \"s@http://deb.debian.org@http://mirrors.aliyun.com@g\" /etc/apt/sources.list\nsed -i \"s@http://security.debian.org@http://mirrors.aliyun.com@g\" /etc/apt/sources.list\n</code></pre>\n<p>如果使用的https源，则需要执行<code>apt install apt-transport-https</code>，再执行<code>apt update</code>更新源索引</p>\n<ol start=\"2\">\n<li>直接编辑 sources.list</li>\n</ol>\n<pre><code class=\"language-shell\"><span class=\"hljs-meta\">#</span><span class=\"bash\"> 使用root用户执行命令行操作</span>\ndocker exec -it -u root &lt;container-id(name)&gt; /bin/bash\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 查看系统版本</span>\ncat /etc/os-release\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"><span class=\"hljs-comment\"># 追加</span></span>\ncat &lt;&lt; EOF &gt;&gt; /etc/apt/sources.list\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> Debian 10 buster</span>\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 中科大源</span>\n\ndeb http://mirrors.ustc.edu.cn/debian buster main contrib non-free\ndeb http://mirrors.ustc.edu.cn/debian buster-updates main contrib non-free\ndeb http://mirrors.ustc.edu.cn/debian buster-backports main contrib non-free\ndeb http://mirrors.ustc.edu.cn/debian-security/ buster/updates main contrib non-free\n\ndeb-src http://mirrors.ustc.edu.cn/debian buster main contrib non-free\ndeb-src http://mirrors.ustc.edu.cn/debian buster-updates main contrib non-free\ndeb-src http://mirrors.ustc.edu.cn/debian buster-backports main contrib non-free\ndeb-src http://mirrors.ustc.edu.cn/debian-security/ buster/updates main contrib non-free\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 官方源</span>\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> deb http://deb.debian.org/debian buster main contrib non-free</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb http://deb.debian.org/debian buster-updates main contrib non-free</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb http://deb.debian.org/debian-security/ buster/updates main contrib non-free</span>\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> deb-src http://deb.debian.org/debian buster main contrib non-free</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb-src http://deb.debian.org/debian buster-updates main contrib non-free</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb-src http://deb.debian.org/debian-security/ buster/updates main contrib non-free</span>\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 网易源</span>\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> deb http://mirrors.163.com/debian/ buster main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb http://mirrors.163.com/debian/ buster-updates main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb http://mirrors.163.com/debian/ buster-backports main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb http://mirrors.163.com/debian-security/ buster/updates main non-free contrib</span>\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> deb-src http://mirrors.163.com/debian/ buster main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb-src http://mirrors.163.com/debian/ buster-updates main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb-src http://mirrors.163.com/debian/ buster-backports main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb-src http://mirrors.163.com/debian-security/ buster/updates main non-free contrib</span>\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 阿里云</span>\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> deb http://mirrors.aliyun.com/debian/ buster main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb http://mirrors.aliyun.com/debian/ buster-updates main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb http://mirrors.aliyun.com/debian/ buster-backports main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb http://mirrors.aliyun.com/debian-security buster/updates main</span>\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> deb-src http://mirrors.aliyun.com/debian/ buster main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb-src http://mirrors.aliyun.com/debian/ buster-updates main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb-src http://mirrors.aliyun.com/debian/ buster-backports main non-free contrib</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> deb-src http://mirrors.aliyun.com/debian-security buster/updates main</span>\nEOF\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 更新软件源</span>\napt-get update &amp;&amp; apt-get upgrade -y\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 安装软件</span>\napt-get install -y vim wget\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> 查找软件</span>\napt-file search /bin/ps | grep -w \"bin/ps\"\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> Docker容器交互</span>\ndocker exec -it -u root &lt;container-id(name)&gt; /bin/bash\n</code></pre>\n<h2 id=\"4.-redis-stream-%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4\">4. Redis Stream 基本命令 <a class=\"header-anchor\" href=\"#4.-redis-stream-%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4\">#</a></h2>\n<ul>\n<li><a href=\"https://blog.csdn.net/qq_43956758/article/details/109860706\">https://blog.csdn.net/qq_43956758/article/details/109860706</a></li>\n</ul>\n<pre><code class=\"language-lua\"># 创建stream\nXADD maintenance_order:event_alarm * <span class=\"hljs-built_in\">type</span> customIncident;\n\n# 创建consumer group\nXGROUP CREATE maintenance_order:event_alarm default_group <span class=\"hljs-number\">0</span>;\n\n# 获取stream元素个数\nXLEN maintenance_order:event_alarm;\n\n# 获取stream中所有元素 - 最小值 + 做大值\nXRANGE maintenance_order:event_alarm - +;\n\n# 获取stream信息\nXINFO STREAM maintenance_order:event_alarm;\n\n# 获取stream 的consumer group信息\nXINFO GROUPS maintenance_order:event_alarm;\n\n# 消费数据\nXREADGROUP GROUP default_group default_consumer COUNT <span class=\"hljs-number\">1</span> STREAMS maintenance_order:event_alarm &gt;;\n\n# 删除消息\nXDEL maintenance_order:event_alarm record_id;\n\n# 删除stream\nDEL maintenance_order:event_alarm;\n</code></pre>\n<p>Redis Lua脚本</p>\n<pre><code class=\"language-lua\"><span class=\"hljs-comment\">-- 删除stream</span>\nDEL maintenance_order:event_alarm;\n\n<span class=\"hljs-comment\">-- 设备告警</span>\nkeys device_alarm_matching*\ndel device_alarm_matching:\n\n<span class=\"hljs-comment\">-- 删除告警历史</span>\nkeys thing_alarm_matching*\n<span class=\"hljs-keyword\">local</span> keys = redis.call(<span class=\"hljs-string\">'keys'</span>, KEYS[<span class=\"hljs-number\">1</span>])\n<span class=\"hljs-keyword\">local</span> temp = {}\n<span class=\"hljs-keyword\">for</span> iter, value <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">ipairs</span>(keys) <span class=\"hljs-keyword\">do</span>\n    <span class=\"hljs-built_in\">table</span>.<span class=\"hljs-built_in\">insert</span>(temp, {value, redis.call(<span class=\"hljs-string\">'del'</span>, value) })\n<span class=\"hljs-keyword\">end</span>\n<span class=\"hljs-keyword\">return</span> temp\n</code></pre>\n",
  "link": "/zh-cn/docs/devenv/DevEnv.html",
  "meta": {}
}