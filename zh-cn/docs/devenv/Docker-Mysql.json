{
  "filename": "Docker-Mysql.md",
  "__html": "<p><a href=\"https://hub.docker.com/_/mysql\">Mysql</a></p>\n<h2 id=\"mysql-5.7\">Mysql 5.7 <a class=\"header-anchor\" href=\"#mysql-5.7\">#</a></h2>\n<pre><code class=\"language-shell\">docker run -d \\\n  --publish 3306:3306 \\\n  --env MYSQL_ROOT_PASSWORD=admin \\\n  --env MYSQL_DATABASE=light \\\n  --env MYSQL_USER=light \\\n  --env MYSQL_PASSWORD=light \\\n  --restart=on-failure:3 \\\n  --name mysql5 \\\n  mysql:5.7\n\ndocker exec -it -u root mysql5 /bin/bash\n\nmysql -u root -p\n\nSHOW DATABASES;\nUSE mysql;\nSELECT user, host, authentication_string, plugin FROM user;\nCREATE USER 'light'@'%' IDENTIFIED BY 'light';\nGRANT ALL PRIVILEGES ON *.* TO 'light'@'%' WITH GRANT OPTION;\nFLUSH PRIVILEGES;\n\ndocker container restart mysql5\n</code></pre>\n<ul>\n<li>Account\nroot/admin\nlight/light</li>\n</ul>\n<h2 id=\"mysql-8.0\">Mysql 8.0 <a class=\"header-anchor\" href=\"#mysql-8.0\">#</a></h2>\n<pre><code class=\"language-shell\">docker run -d \\\n  --publish 3308:3308 \\\n  --env MYSQL_ROOT_PASSWORD=admin \\\n  --env MYSQL_DATABASE=light \\\n  --env MYSQL_USER=light \\\n  --env MYSQL_PASSWORD=light \\\n  --restart=on-failure:3 \\\n  --name mysql8 \\\n  mysql:8.0\n\ndocker exec -it -u root mysql8 /bin/bash\n\nmysql -u root -p\n\nSHOW DATABASES;\nUSE mysql;\nSELECT user, host, authentication_string, plugin FROM user;\nCREATE USER 'light'@'%' IDENTIFIED BY 'light';\nGRANT ALL PRIVILEGES ON *.* TO 'light'@'%' WITH GRANT OPTION;\nFLUSH PRIVILEGES;\n\ndocker container restart mysql8\n</code></pre>\n<ul>\n<li>Account\nroot/admin\nlight/light</li>\n</ul>\n<h2 id=\"%E9%85%8D%E7%BD%AE\">配置 <a class=\"header-anchor\" href=\"#%E9%85%8D%E7%BD%AE\">#</a></h2>\n<pre><code class=\"language-shell\">vim /etc/mysql/conf.d/mysql.cnf\n</code></pre>\n<pre><code class=\"language-conf\">[client]\ndefault-character-set = utf8mb4\n\n[mysql]\ndefault-character-set = utf8mb4\n\n[mysqld]\ncharacter-set-client-handshake = FALSE\ncharacter-set-server = utf8mb4\ncollation-server = utf8mb4_unicode_ci\ninit_connect='SET NAMES utf8mb4'\n# 设置表名大小写敏感\nlower_case_table_names=0\n</code></pre>\n<ol>\n<li>lower_case_file_system: 当前文件系统是否大小写敏感（ON-敏感，OFF-不敏感），只读参数，无法修改</li>\n<li>lower_case_table_names: 此参数不可以动态修改，必须重启数据库\n<ul>\n<li>0 表名存储区分大小写，比较时区分大小写</li>\n<li>1 表名存储时转为小写，比较时不区分大小写</li>\n<li>2 表名存储区分大小写，比较时为转为小写</li>\n</ul>\n</li>\n</ol>\n",
  "link": "/zh-cn/docs/devenv/Docker-Mysql.html",
  "meta": {}
}